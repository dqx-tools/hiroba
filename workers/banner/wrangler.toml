# Cloudflare Workers configuration for DQX Banner Translation API
# Deploy using: npx wrangler deploy (from this directory)

name = "dqx-banner-api"
main = "worker.py"
compatibility_date = "2025-11-02"
compatibility_flags = ["python_workers"]

[observability]
enabled = true

# Environment variables
[vars]
OPENAI_MODEL = "gpt-4o"

# Production environment - routes not configured yet
# [env.production]
# name = "dqx-banner-api"
# routes = [
#     { pattern = "hiroba-api.dqx.tools/banner*", zone_name = "dqx.tools" }
# ]

# [env.production.vars]
# OPENAI_MODEL = "gpt-4o"

# Staging environment
[env.staging]
name = "dqx-banner-api-staging"

[env.staging.vars]
OPENAI_MODEL = "gpt-4o"

# Development settings
[dev]
port = 8788
local_protocol = "http"
