{
	"$schema": "node_modules/wrangler/config-schema.json",
	"name": "dqx-tools--news",
	"main": "src/index.ts",
	"compatibility_date": "2025-11-21",
	"observability": {
		"enabled": true
	},
	// D1 Database binding for caching translations
	"d1_databases": [
		{
			"binding": "DB",
			"database_name": "dqx-news-cache",
			"database_id": "52514b9a-0361-41c7-a645-2c8f75e855f1"
		}
	],
	// Environment variables
	"vars": {
		"OPENAI_MODEL": "gpt-5.1"
	},
	// Cron trigger for hourly news refresh
	"triggers": {
		"crons": [
			"0 * * * *"
		] // Every hour at minute 0
	},
	// Production environment
	"env": {
		"production": {
			"routes": [
				{
					"pattern": "hiroba-api.dqx.tools/news*",
					"zone_name": "dqx.tools"
				},
				{
					"pattern": "hiroba-api.dqx.tools/categories*",
					"zone_name": "dqx.tools"
				},
				{
					"pattern": "hiroba-api.dqx.tools/health*",
					"zone_name": "dqx.tools"
				},
				{
					"pattern": "hiroba-api.dqx.tools/refresh*",
					"zone_name": "dqx.tools"
				}
			]
		}
	},
	// Development settings
	"dev": {
		"port": 8787,
		"local_protocol": "http"
	}
}
